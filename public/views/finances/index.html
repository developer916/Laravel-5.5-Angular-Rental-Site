<div class="row">
    <div class="col-md-12">
        <div class="portlet light">
            <div class="portlet-title tabbable-line">
                <div class="caption caption-md">
                    <i class="icon-globe theme-font hide"></i>
                    <span class="caption-subject font-blue-madison bold uppercase">{{'Finances' | translate}}</span>
                </div>
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#tab_1_1" onclick="return false;" data-toggle="tab">{{'Invoices' | translate}}</a>
                    </li>
                    <li>
                        <a href="#tab_1_2" onclick="return false;" data-toggle="tab">{{'Payments' | translate}}</a>
                    </li>

                </ul>
            </div>
            <div class="portlet-body">
                <div class="tab-content">
                    <!-- PERSONAL INFO TAB -->
                    <div class="tab-pane active" id="tab_1_1">
                        <div class="portlet light portlet-reset">
                            <div class="portlet-title">
                                <div class="caption font-green-sharp">
                                    <i class="icon-settings font-green-sharp"></i>
                                    <span class="caption-subject bold uppercase">{{'Invoices' | translate}}</span>
                                </div>

                            </div>
                            <div class="portlet-body">
                                <div class="table-container">

                                    <table class="table table-bordered table-striped table-condensed flip-content"
                                           id="invoices-dt">
                                        <thead>
                                        <tr role="row" class="heading">
                                            <th width="5%">
                                                {{'No.#' | translate}}
                                            </th>
                                            <th width="15%">
                                                {{'Status' | translate}}
                                            </th>
                                            <th width="15%">
                                                {{'Amount' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Due Date' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Property' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Tenant' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Actions' | translate}}
                                            </th>
                                        </tr>

                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="tab_1_2">
                        <div class="portlet light portlet-reset">
                            <div class="portlet-title">
                                <div class="caption font-green-sharp">
                                    <i class="icon-settings font-green-sharp"></i>
                                    <span class="caption-subject bold uppercase">{{'Payments' | translate }}</span>
                                </div>

                            </div>
                            <div class="portlet-body">
                                <div class="table-container">

                                    <table class="table table-bordered table-striped table-condensed flip-content"
                                           id="paymentslist-dt" style="width:100% !important;">
                                        <thead>
                                        <tr role="row" class="heading">
                                            <th width="5%">
                                                {{'ID' | translate}}
                                            </th>
                                            <th width="5%">
                                                {{'Status' | translate}}
                                            </th>
                                            <th width="15%">
                                                {{'Amount' | translate}}
                                            </th>
                                            <th width="15%">
                                                {{'Date Created' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Payment Method' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Property' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Tenant' | translate}}
                                            </th>
                                            <th width="10%">
                                                {{'Actions' | translate}}
                                            </th>
                                        </tr>

                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<script>


    $('#paymentslist-dt').DataTable({
        'scrollY': false,
        'deferRender': false,
        'responsive': true,
        'processing': true,
        'serverSide': true,
        'ajax': {
            'url': '/payments',
            'dataType': 'JSON'
        },
        "columns": [
            {"data": "id"},
            {"data": "status"},
            {"data": "amount"},
            {"data": "created_at"},
            {"data": "payment_method"},
            {"data": "property"},
            {"data": "tenant"},
            {"data": "actions"}
        ],
        language: dtTableHeaders
    });


    $('#invoices-dt').DataTable({
        'scrollY': false,
        'deferRender': false,
        'responsive': true,
        'processing': true,
        'serverSide': true,
        'ajax': {
            'url': '/invoices',
            'dataType': 'JSON'
        },
        "columns": [
            {"data": "id"},
            {"data": "status"},
            {"data": "amount"},
            {"data": "due_at"},
            {"data": "property"},
            {"data": "tenant"},
            {"data": "actions"}
        ],
        language: dtTableHeaders
    });

    $(document).ready(function () {
        $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
            $.fn.dataTable.tables({visible: true, api: true}).columns.adjust();
        });
    });


</script>

